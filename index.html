<!DOCTYPE html>
<!-- saved from url=(0055)https://bk5itf7o-osu-qualifiers-autoref-314.vercel.app/ -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>osu! Referee Dashboard</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index,follow">
  <meta name="generator" content="GrapesJS Studio">
  <script src="./index_files/saved_resource"></script>
  <link rel="stylesheet" href="./index_files/style.css">
  <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}</style></head>
  <body class="gjs-t-body page-body"><div class="main-container"><!-- Left Sidebar --><aside class="left-sidebar" id="i4j2j"><!-- Player Status Section --><div id="ioi4b" class="player-status-section"><h2 id="iczqf" class="gjs-t-h2 player-status-title">Players</h2><div id="playerList" class="player-list-container"></div></div><!-- Beatmap Info Section --><div class="beatmap-info-section" id="ilqi3"><div class="beatmap-image-container" id="icdgi"><img id="beatmapImage" src="./index_files/random-image" alt="Beatmap cover art" loading="lazy" class="beatmap-image"></div><div id="beatmapDetails" class="beatmap-details"><p class="song-name"><span id="songName">-</span></p><p class="difficulty-info"><span id="difficultyName">-</span> by <span id="mapper">-</span></p><div class="beatmap-stats" id="iqxsd"><span>OD: <span id="od" class="cls-bbgrtp">-</span></span><span>HP: <span id="hp" class="cls-9v3b6g">-</span></span><span>â˜… <span id="star" class="cls-r7nfjv">-</span></span><span>BPM: <span id="bpm" class="cls-g3f3qu">-</span></span><span>Length: <span id="length" class="cls-wdfp7u">-</span>s</span></div></div></div></aside><!-- Right Main Area --><main class="right-main-area"><!-- Connection Status --><header id="ijha4" class="connection-status-bar"><div id="i36s7" class="connection-info"><div id="serverConnectionIndicator" class="connection-indicator"><div id="ifem5" class="status-dot disconnected" style="background-color: rgb(239, 68, 68);"></div><span id="ieiuf" class="status-text" style="color: rgb(239, 68, 68);">osu! Server: Disconnected</span></div><div id="mainThreadIndicator" class="connection-indicator"><div id="mainThreadDot" class="status-dot main-thread-dot" style="background-color: rgb(34, 197, 94);"></div><span id="mainThreadText" class="status-text" style="color: rgb(156, 163, 175);">Main Thread: Connected</span></div><div id="updateStatus" class="update-status active"><div id="ivss7j-2" class="status-icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" id="inj0oo-2" class="status-icon"><path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" id="iibw7t-2"></path><path d="M18 3L21 3V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="i3efr5-2"></path><path d="M21 3L16.5 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" id="i2pr1u-2"></path></svg></div><span id="updateText-2" class="status-text">Updating...</span></div><script>
    // Connection status management
    const connectionStatus = {
      osuServer: 'connected',
      mainThread: 'connected',
      updateStatus: 'idle'
    };

    // Auto status check function
    function checkConnectionStatus() {
      // Check osu! Server status
      if (window.electronAPI && window.electronAPI.getServerStatus) {
        window.electronAPI.getServerStatus().then(status => {
          updateOsuServerStatus(status);
        }).catch(() => {
          updateOsuServerStatus('disconnected');
        });
      } else {
        // Simulate status changes for demo
        const randomStatus = Math.random() > 0.9 ? 'disconnected' : 'connected';
        updateOsuServerStatus(randomStatus);
      }

      // Check Main Thread status
      if (window.electronAPI && window.electronAPI.getMainThreadStatus) {
        window.electronAPI.getMainThreadStatus().then(status => {
          updateMainThreadStatus(status);
        }).catch(() => {
          updateMainThreadStatus('disconnected');
        });
      } else {
        // Simulate status changes for demo
        const randomStatus = Math.random() > 0.95 ? 'disconnected' : 'connected';
        updateMainThreadStatus(randomStatus);
      }

      // Check Update status
      if (window.electronAPI && window.electronAPI.getUpdateStatus) {
        window.electronAPI.getUpdateStatus().then(status => {
          updateUpdateStatus(status);
        }).catch(() => {
          updateUpdateStatus('idle');
        });
      } else {
        // Simulate status changes for demo
        const statuses = ['idle', 'updating', 'active'];
        const randomStatus = statuses[Math.floor(Math.random() * statuses.length)];
        updateUpdateStatus(randomStatus);
      }
    }

    // Update osu! Server status
    function updateOsuServerStatus(status) {
      const dot = document.getElementById('ifem5');
      const text = document.getElementById('ieiuf');
      
      if (status === 'connected') {
        dot.classList.remove('disconnected', 'connecting');
        dot.style.backgroundColor = 'rgb(34 197 94 / 1)';
        text.textContent = 'osu! Server: Connected';
        text.style.color = 'rgb(156, 163, 175)';
      } else if (status === 'connecting') {
        dot.classList.remove('disconnected');
        dot.classList.add('connecting');
        dot.style.backgroundColor = 'rgb(251 191 36 / 1)';
        text.textContent = 'osu! Server: Connecting...';
        text.style.color = 'rgb(251 191 36)';
      } else {
        dot.classList.add('disconnected');
        dot.classList.remove('connecting');
        dot.style.backgroundColor = 'rgb(239 68 68 / 1)';
        text.textContent = 'osu! Server: Disconnected';
        text.style.color = 'rgb(239 68 68)';
      }
      
      connectionStatus.osuServer = status;
    }

    // Update Main Thread status
    function updateMainThreadStatus(status) {
      const dot = document.getElementById('mainThreadDot');
      const text = document.getElementById('mainThreadText');
      
      if (status === 'connected') {
        dot.classList.remove('disconnected', 'connecting');
        dot.style.backgroundColor = 'rgb(34 197 94 / 1)';
        text.textContent = 'Main Thread: Connected';
        text.style.color = 'rgb(156, 163, 175)';
      } else if (status === 'connecting') {
        dot.classList.remove('disconnected');
        dot.classList.add('connecting');
        dot.style.backgroundColor = 'rgb(251 191 36 / 1)';
        text.textContent = 'Main Thread: Connecting...';
        text.style.color = 'rgb(251 191 36)';
      } else {
        dot.classList.add('disconnected');
        dot.classList.remove('connecting');
        dot.style.backgroundColor = 'rgb(239 68 68 / 1)';
        text.textContent = 'Main Thread: Disconnected';
        text.style.color = 'rgb(239 68 68)';
      }
      
      connectionStatus.mainThread = status;
    }

    // Update Update status
    function updateUpdateStatus(status) {
      const container = document.getElementById('updateStatus');
      const text = document.getElementById('updateText-2');
      const icon = document.querySelector('#updateStatus .status-icon');
      
      if (status === 'active' || status === 'updating') {
        container.classList.add('active');
        container.classList.add('status-changing');
        text.textContent = 'Updating...';
        setTimeout(() => {
          container.classList.remove('status-changing');
        }, 500);
      } else {
        container.classList.remove('active');
        container.classList.add('status-changing');
        text.textContent = 'Idle';
        setTimeout(() => {
          container.classList.remove('status-changing');
        }, 500);
      }
      
      connectionStatus.updateStatus = status;
    }

    // Listen for external status updates if available
    if (window.electronAPI) {
      if (window.electronAPI.onServerStatusChange) {
        window.electronAPI.onServerStatusChange((status) => {
          updateOsuServerStatus(status);
        });
      }
      
      if (window.electronAPI.onMainThreadStatusChange) {
        window.electronAPI.onMainThreadStatusChange((status) => {
          updateMainThreadStatus(status);
        });
      }
      
      if (window.electronAPI.onUpdateStatusChange) {
        window.electronAPI.onUpdateStatusChange((status) => {
          updateUpdateStatus(status);
        });
      }
    }

    // Initial status check
    checkConnectionStatus();

    // Set up auto-check interval (500ms)
    const statusCheckInterval = setInterval(checkConnectionStatus, 500);

    // Clean up interval when element is removed
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        mutation.removedNodes.forEach((node) => {
          if (node.id === 'i36s7' || (node.querySelector && node.querySelector('#i36s7'))) {
            clearInterval(statusCheckInterval);
            observer.disconnect();
          }
        });
      });
    });

    // Start observing the parent element for removals
    if (document.getElementById('i36s7').parentElement) {
      observer.observe(document.getElementById('i36s7').parentElement, { childList: true, subtree: true });
    }
  </script></div></header><!-- Chat Area --><div class="chat-container"><!-- Messages Area --><div class="messages-section"><div id="messagesList" class="messages-list"><!-- Messages will be dynamically added here --></div></div><!-- Quick Commands Sidebar --><aside id="iv44k" class="quick-commands"><h3 id="icxut" class="commands-title">Quick Commands</h3><div id="iqw3i" class="commands-list"><button type="button" data-command="!mp start 10" id="idwlu" class="command-button">!mp start 10</button><button type="button" data-command="!mp abort" id="iqlu8" class="command-button">!mp abort</button><button type="button" data-command="!mp kick " id="i7i0s" class="command-button">!mp kick &lt;player&gt;</button><button type="button" data-command="!mp move " id="ies37" class="command-button">!mp move &lt;player&gt; &lt;slot&gt;</button><button type="button" data-command="!mp host " id="ihhlq" class="command-button">!mp host &lt;player&gt;</button><button type="button" data-command="!mp clearhost" id="itdbh" class="command-button">!mp clearhost</button><button type="button" data-command="!mp settings" id="i42mn" class="command-button">!mp settings</button><button type="button" data-command="!mp timer " id="i7prvm" class="command-button">!mp timer &lt;seconds&gt;</button><script>
    // Link command buttons to message input
    document.querySelectorAll('#iqw3i .command-button').forEach(button => {
      button.addEventListener('click', function() {
        const command = this.getAttribute('data-command');
        const messageInput = document.getElementById('messageInput');
        if (messageInput) {
          messageInput.value = command;
          messageInput.focus();
          
          // Position cursor appropriately for commands with placeholders
          if (command.includes('<') && command.includes('>')) {
            const startPos = command.indexOf('<');
            const endPos = command.indexOf('>') + 1;
            messageInput.setSelectionRange(startPos, endPos);
          } else {
            messageInput.setSelectionRange(command.length, command.length);
          }
        }
      });
    });
  </script></div></aside></div><!-- Input Area --><footer class="input-area" id="iodiyk"><div class="input-container"><input type="text" id="messageInput" placeholder="Type a command or message..." class="message-input"><button type="button" id="sendButton" class="gjs-t-button send-button">Send</button></div></footer></main></div><script>
    // Initialize player slots
    const playerSlots = [];
    for (let i = 0; i < 16; i++) {
      playerSlots[i] = {
        isEnable: false,
        playerName: '',
        mods: [],
        state: -1
      };
    }

    // Role colors
    const roleColors = {
      "Unknown": 'text-orange-400',
      "Player": 'text-white',
      "BanchoBot": 'text-red-400',
      "Ref": 'text-blue-400',
      "MySelf": 'text-green-400'
    };

    // Render player list
    function renderPlayerList() {
      const container = document.getElementById('playerList');
      container.innerHTML = '';
      
      playerSlots.forEach((player, index) => {
        if (player.isEnable) {
          const playerDiv = document.createElement('div');
          playerDiv.setAttribute('data-gjs-name', 'Player Item');
          playerDiv.className = 'bg-gray-800 rounded-lg px-3 py-2 flex items-center justify-between';
          
          const leftDiv = document.createElement('div');
          leftDiv.setAttribute('data-gjs-name', 'Player Info');
          leftDiv.className = 'flex items-center gap-2';
          
          const slotSpan = document.createElement('span');
          slotSpan.setAttribute('data-gjs-name', 'Slot Number');
          slotSpan.className = 'text-xs text-gray-500 w-6';
          slotSpan.textContent = `#${index + 1}`;
          
          const nameSpan = document.createElement('span');
          nameSpan.setAttribute('data-gjs-name', 'Player Name');
          nameSpan.className = 'text-sm text-white font-medium';
          nameSpan.textContent = player.playerName;
          
          leftDiv.appendChild(slotSpan);
          leftDiv.appendChild(nameSpan);
          
          const rightDiv = document.createElement('div');
          rightDiv.setAttribute('data-gjs-name', 'Player Status');
          rightDiv.className = 'flex items-center gap-2';
          
          if (player.mods.length > 0) {
            const modsSpan = document.createElement('span');
            modsSpan.setAttribute('data-gjs-name', 'Player Mods');
            modsSpan.className = 'text-xs text-gray-400';
            modsSpan.textContent = player.mods.map(m => m.shortMod).join(' ');
            rightDiv.appendChild(modsSpan);
          }
          
          const stateSpan = document.createElement('span');
          stateSpan.setAttribute('data-gjs-name', 'Ready State');
          stateSpan.className = 'text-xs px-2 py-0.5 rounded';
          
          if (player.state === 0) {
            stateSpan.className += ' bg-red-900/30 text-red-400';
            stateSpan.textContent = 'Not Ready';
          } else if (player.state === 1) {
            stateSpan.className += ' bg-green-900/30 text-green-400';
            stateSpan.textContent = 'Ready';
          } else {
            stateSpan.className += ' bg-gray-700 text-gray-400';
            stateSpan.textContent = 'No Map';
          }
          
          rightDiv.appendChild(stateSpan);
          
          playerDiv.appendChild(leftDiv);
          playerDiv.appendChild(rightDiv);
          container.appendChild(playerDiv);
        }
      });
    }

    // Add message to chat
    function addMessage(playerName, text, role) {
      const messagesContainer = document.getElementById('messagesList');
      const messageDiv = document.createElement('div');
      messageDiv.setAttribute('data-gjs-name', 'Chat Message');
      messageDiv.className = 'flex gap-2';
      
      const nameSpan = document.createElement('span');
      nameSpan.setAttribute('data-gjs-name', 'Message Author');
      nameSpan.className = `font-medium ${roleColors[role] || 'text-gray-400'}`;
      nameSpan.textContent = playerName + ':';
      
      const textSpan = document.createElement('span');
      textSpan.setAttribute('data-gjs-name', 'Message Text');
      textSpan.className = 'text-gray-200';
      textSpan.textContent = text;
      
      messageDiv.appendChild(nameSpan);
      messageDiv.appendChild(textSpan);
      messagesContainer.appendChild(messageDiv);
      
      // Auto-scroll to bottom
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    // Add log message
    function addLogMessage(text) {
      const messagesContainer = document.getElementById('messagesList');
      const logDiv = document.createElement('div');
      logDiv.setAttribute('data-gjs-name', 'Log Message');
      logDiv.className = 'text-gray-500 text-xs italic';
      logDiv.textContent = text;
      
      messagesContainer.appendChild(logDiv);
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
    }

    // Update beatmap info
    function updateBeatmap(data) {
      document.getElementById('beatmapImage').src = data.pictureUrl || 'https://app.grapesjs.com/api/assets/random-image?query=abstract%20music%20visualization&w=720&h=200';
      document.getElementById('songName').textContent = data.name || '-';
      document.getElementById('difficultyName').textContent = data.difficultyName || '-';
      document.getElementById('mapper').textContent = data.mapper || '-';
      document.getElementById('od').textContent = data.od || '-';
      document.getElementById('hp').textContent = data.hp || '-';
      document.getElementById('star').textContent = data.star || '-';
      document.getElementById('bpm').textContent = data.bpm || '-';
      document.getElementById('length').textContent = data.length || '-';
    }

    // Event listeners
    if (window.electronAPI) {
      window.electronAPI.onUserMessage((msg) => {
        addMessage(msg.playerName, msg.text, msg.role);
      });

      window.electronAPI.onLogMessage((text) => {
        addLogMessage(text);
      });

      window.electronAPI.onMapData((data) => {
        updateBeatmap(data);
      });

      window.electronAPI.onPlayerData((data) => {
        playerSlots[data.slot] = {
          isEnable: data.isEnable,
          playerName: data.playerName || '',
          mods: data.mods || [],
          state: data.state
        };
        renderPlayerList();
      });
    }

    // Send message functionality
    const sendButton = document.getElementById('sendButton');
    const messageInput = document.getElementById('messageInput');

    sendButton.addEventListener('click', () => {
      const text = messageInput.value.trim();
      if (text && window.electronAPI) {
        window.electronAPI.sendToMain(text);
        messageInput.value = '';
      }
    });

    messageInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        sendButton.click();
      }
    });

    // Quick command buttons
    document.querySelectorAll('.command-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const command = btn.getAttribute('data-command');
        messageInput.value = command;
        messageInput.focus();
        
        // Place cursor at end if command has placeholder
        if (command.includes('<')) {
          const cursorPos = command.indexOf('<');
          messageInput.setSelectionRange(cursorPos, command.length);
        }
      });
    });

    // Initialize empty player list
    renderPlayerList();
  </script>

</body></html>